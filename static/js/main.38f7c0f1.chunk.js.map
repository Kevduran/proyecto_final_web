{"version":3,"sources":["pages/Beginning/beginning.jsx","services/user.services.js","contexts/UserContext.js","pages/Login/Login.jsx","pages/Admin/Admin.jsx","pages/User/User.jsx","pages/NotFound/NotFound.jsx","pages/Redirect/RedirectUser.jsx","Components/PrivateRoute/PrivateRoute.jsx","App.js","reportWebVitals.js","index.js"],"names":["Beginning","navigate","useNavigate","className","onClick","e","BASE_URL","services","login","username","password","a","fetch","method","headers","body","JSON","stringify","response","ok","json","data","verifyToken","token","UserContext","React","createContext","TOKEN_KEY","UserProvider","props","useState","undefined","setToken","user","setUser","useEffect","verifyTokenAsync","lsToken","getToken","userService","role","setTokenAll","localStorage","setItem","useCallback","loginAsync","status","tokenRes","console","error","logout","value","useMemo","Provider","useUserContext","context","useContext","Error","getItem","Login","setUsername","setPassword","setError","onChange","save","target","onSubmitHandler","preventDefault","logged","replace","to","onSubmit","type","placeholder","Admin","page","setPage","title","description","image","_id","dataForm","setDataForm","logoutHandler","handleInputChange","name","enviarDatos","event","Authorization","res","document","getElementById","style","display","ActualizarData","alert","ocultarDatos","posts","respuesta","renderList","postList","querySelector","postsHTML","reduce","list","post","renderElement","innerHTML","FetchData","url","warn","fetchPosts","Asignar","pages","window","addEventListener","id","minLength","maxLength","log","scrollTop","documentElement","User","comments","href","NotFound","rolePages","RedirectUser","PrivateRoute","children","App","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.38f7c0f1.chunk.js","sourcesContent":["import { useNavigate } from 'react-router-dom';\r\n\r\nconst Beginning = () => {\r\n    const navigate = useNavigate()\r\n\r\n    const onClick = (e) => {\r\n        navigate('/login')\r\n    }\r\n\r\n    return(\r\n        <div className=\"flex gap-4 justify-center items-center p-6 min-h-screen bg-gray-200\">\r\n            <button className=\"font-roboto bg-gray-300 m-4 py-2 px-4 rounded\" onClick={(e) => onClick(e)}>Go to Login</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Beginning;","const BASE_URL = \"https://posts-pw2021.herokuapp.com/api/v1\";\r\n\r\nconst services = {};\r\n\r\nservices.login = async (username, password) => {\r\n    const response = await fetch(`${BASE_URL}/auth/signin`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({\r\n            username: username,\r\n            password: password\r\n        })\r\n    });\r\n\r\n    if (response.ok) {\r\n        const data = await response.json();\r\n        return data;\r\n    }\r\n\r\n    return {};\r\n}\r\n\r\nservices.verifyToken = async (token) => {\r\n    const response = await fetch(`${BASE_URL}/auth/whoami`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-type\": \"application/json\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    });\r\n\r\n    if (response.ok) {\r\n        const data = await response.json();\r\n        return data;\r\n    }\r\n\r\n    return {};\r\n}\r\n\r\n\r\nexport default services;","import React, { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport userService from './../services/user.services';\r\n\r\nconst UserContext = React.createContext();\r\nconst TOKEN_KEY = \"token\";\r\n\r\nexport const UserProvider = (props) => {\r\n    const [token, setToken] = useState(undefined);\r\n    const [user, setUser] = useState(undefined);\r\n\r\n    useEffect(() => {\r\n        const verifyTokenAsync = async () => {\r\n            const lsToken = getToken();\r\n\r\n            if(lsToken) {\r\n                const { username, role } = await userService.verifyToken(lsToken);\r\n                if(username && role) {\r\n                    setUser({ username, role });\r\n                    setTokenAll(lsToken);\r\n                }\r\n            }\r\n        }\r\n\r\n        verifyTokenAsync();\r\n    }, [token])\r\n\r\n    const setTokenAll = (token) => {\r\n        localStorage.setItem(TOKEN_KEY, token);\r\n        setToken(token);\r\n    }\r\n\r\n    const login = useCallback((username, password)=> {\r\n        const loginAsync = async () => {\r\n            let status = false;\r\n            try {\r\n                const { token: tokenRes } = await userService.login(username, password);\r\n\r\n                if(tokenRes) {\r\n                    setTokenAll(tokenRes);\r\n                    status = true;\r\n                }\r\n            } catch (error) {\r\n                console.error(error);\r\n                console.error(\"Error in login\");\r\n            } finally {\r\n                return status;\r\n            }\r\n        };\r\n\r\n        return loginAsync();\r\n    }, [])\r\n\r\n    const logout = useCallback(() => {\r\n        setUser(undefined);\r\n        setTokenAll(undefined);\r\n    }, [])\r\n\r\n    const value = useMemo(()=> ({\r\n        token: token,\r\n        user: user,\r\n        login: login,\r\n        logout: logout\r\n    }), [token, user, login, logout]);\r\n\r\n    return <UserContext.Provider value={value} {...props} />;\r\n}\r\n\r\nexport const useUserContext = () => {\r\n    const context = React.useContext(UserContext);\r\n\r\n    if (!context) {\r\n        throw new Error(\"useUserContext() must be inside of UserProvider\");\r\n    }\r\n\r\n    return context;\r\n}\r\n\r\nconst getToken = () => localStorage.getItem(TOKEN_KEY);","import { useState } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { BiUser, BiFace, BiLockAlt } from 'react-icons/bi';\r\n\r\nimport { useUserContext } from '../../contexts/UserContext';\r\n\r\nexport default function Login() {\r\n    const { login, token } = useUserContext();\r\n\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const [error, setError] = useState(false);\r\n\r\n    const onChange = (e, save) => {\r\n        save(e.target.value);\r\n    }\r\n    \r\n    const onSubmitHandler = async (e) => {\r\n        e.preventDefault();\r\n        const logged = await login(username, password);\r\n\r\n        setError(!logged);\r\n        setUsername(\"\");\r\n        setPassword(\"\");\r\n    }\r\n\r\n    if (token) {\r\n        return <Navigate replace to=\"/redirect\" />\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex justify-center items-center min-h-screen\">\r\n            <main className=\"w-2/6 max-w-3xl bg-green-800 border-green-500 rounded-md md:p-12\">\r\n                <form onSubmit={onSubmitHandler} className=\"flex flex-col gap-4 items-center justify-center\">\r\n\r\n                    <BiUser className=\"uppercase text-yellow-500 font-monserrat font-black text-8xl\" />\r\n\r\n                    <h2 className=\"uppercase text-yellow-500 font-monserrat font-black text-4xl\">Progra web</h2>\r\n\r\n                    <div className=\"w-full\">\r\n                        <BiFace className=\"text-yellow-500 w-1/5 float-left font-monserrat font-black text-4xl\" />\r\n                        <input className=\"font-medium float-right w-4/5 bg-yellow-100 text-gray-700 focus:outline-none focus:ring focus:border-gray-700 p-2 rounded\"\r\n                            type='text'\r\n                            value={username}\r\n                            placeholder='e.g. username'\r\n                            onChange={(e) => onChange(e, setUsername)}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"w-full\">\r\n                    <BiLockAlt className=\"text-yellow-500 w-1/5 float-left font-monserrat font-black text-4xl\" />\r\n                        <input className=\"font-medium float-right w-4/5 bg-yellow-100 text-gray-700 focus:outline-none focus:ring focus:border-gray-700 p-2 rounded\"\r\n                            type=\"password\"\r\n                            placeholder=\"e.g password\"\r\n                            onChange={(e) => onChange(e, setPassword)}\r\n                            value={password}\r\n                        />\r\n                    </div>\r\n\r\n                    {error && <p className=\"w-full rounded p-3 text-center text-white font-roboto bg-red-700 select-none\">\r\n                        Un error ha ocurrido en el inicio de sesión\r\n                    </p>}\r\n\r\n                    <button className=\"mt-6 w-full transition rounded duration-300 ease-in-out text-xl text-extrabold uppercase bg-blue-800 hover:bg-blue-700 py-2 px-4 text-gray-100\">Sign In </button>\r\n                </form>\r\n            </main>\r\n        </div>\r\n    );\r\n}","import { useUserContext } from '../../contexts/UserContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { BiText, BiPencil, BiImageAdd, BiPlus } from 'react-icons/bi';\r\nimport './admin.css'\r\nimport { Input } from 'postcss';\r\n\r\nconst TOKEN_KEY = \"token\";\r\n\r\nexport default function Admin() {\r\n    const navigate = useNavigate()\r\n    const { logout } = useUserContext()\r\n    const [page, setPage] = useState(0)\r\n    const [error, setError] = useState(false);\r\n\r\n    const [dataForm, setDataForm] = useState({\r\n        title: \"\",\r\n        description: \"\",\r\n        image: \"\",\r\n        _id: \"\"\r\n    })\r\n\r\n    const logoutHandler = () => {\r\n        logout()\r\n        navigate(\"/login\")\r\n    }\r\n\r\n    const Formulario = () => {\r\n        document.getElementById('formulario').style.display = 'block'\r\n    }\r\n    \r\n    const FormularioUpdate = () => {\r\n        document.getElementById('formularioUpdate').style.display = 'block'\r\n    }\r\n\r\n    const borrar_btn = () => {\r\n        document.getElementById('delete').style.display = 'block'\r\n    }\r\n\r\n    const siguiente = () => {\r\n        console.log(page)\r\n        setPage(page + 1)\r\n        document.body.scrollTop = 0; // Para Safari\r\n        document.documentElement.scrollTop = 0; // Para Chrome, Firefox, IE and Opera\r\n        //window.location.reload()\r\n    }\r\n\r\n    const anterior = () => {\r\n        console.log(page)\r\n        setPage(page - 1)\r\n        document.body.scrollTop = 0; // Para Safari\r\n        document.documentElement.scrollTop = 0; // Para Chrome, Firefox, IE and Opera\r\n        //window.location.reload()\r\n    }\r\n\r\n    const handleInputChange = (e) => {\r\n        setDataForm({\r\n            ...dataForm,\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    const getToken = () => localStorage.getItem(TOKEN_KEY);\r\n\r\n    const enviarDatos = async (event) => {\r\n        event.preventDefault();\r\n        const lsToken = getToken();\r\n        try{\r\n            const res = await fetch(`${BASE_URL}/post/create`, {\r\n                method: \"POST\",\r\n                headers: {\r\n                  \"Content-type\": \"application/json\",\r\n                  Authorization: `Bearer ${lsToken}`\r\n                },\r\n                body: JSON.stringify({\r\n                    title: dataForm.title,\r\n                    description: dataForm.description,\r\n                    image: dataForm.image\r\n                })\r\n            })\r\n            setError(!res)\r\n        } catch (error) {\r\n            console.error({error});\r\n            console.error(\"Error en Enviar Valores\");\r\n        } finally {\r\n            document.getElementById('formulario').style.display = 'none'\r\n        }\r\n    }\r\n\r\n    const ActualizarData = async (event) => {\r\n        event.preventDefault();\r\n        const lsToken = getToken();\r\n        try{\r\n            const res = await fetch(`${BASE_URL}/post/update/${dataForm._id}`, {\r\n                method: \"PUT\",\r\n                headers: {\r\n                  \"Content-type\": \"application/json\",\r\n                  Authorization: `Bearer ${lsToken}`\r\n                },\r\n                body: JSON.stringify({\r\n                    title: dataForm.title,\r\n                    description: dataForm.description,\r\n                    image: dataForm.image\r\n                })\r\n            })\r\n            if(res.ok){\r\n                alert(\"Datos Actualizados\")\r\n            }\r\n        } catch (error) {\r\n            console.error({error});\r\n            console.error(\"Error en Enviar Valores\");\r\n        } finally {\r\n            document.getElementById('formularioUpdate').style.display = 'none'\r\n        }\r\n    }\r\n\r\n    const ocultarDatos = async (event) => {\r\n        event.preventDefault();\r\n        const lsToken = getToken();\r\n\r\n        try{\r\n            const res = await fetch(`${BASE_URL}/post/toggle/${dataForm._id}`, {\r\n                method: \"PATCH\",\r\n                headers: {\r\n                  Authorization: `Bearer ${lsToken}`\r\n                }\r\n            })\r\n            if(res.ok){\r\n                alert(\"Post Borrado\")\r\n            }\r\n        } catch (error) {\r\n            console.error({error});\r\n            console.error(\"Error en Enviar Valores\");\r\n        } finally {\r\n            document.getElementById('delete').style.display = 'none'\r\n        }\r\n    }\r\n\r\n    let paginas;\r\n    let posts = [];\r\n    let respuesta = [];\r\n    const BASE_URL = \"https://posts-pw2021.herokuapp.com/api/v1\";\r\n\r\n    const renderElement = ({ _id, title, image, description}) => {\r\n        return `\r\n            <li class=\"card\" data-id=\"${ _id }\">\r\n                <div class=\"card-main\">\r\n                    <h2 id=\"titulo\">${ title }</h2>\r\n                    <img id=\"imagen\" src=\"${ image }\">\r\n                    <button className=\"Description\" id=\"description_btn\" >descripción</button>\r\n                    <span class=\"description\" id=\"descriptionHide\">\r\n                        <p>${ description }</p>\r\n                    </span>\r\n                    <div class=\"id\"> ${ _id }</div>\r\n                </div>\r\n            </li>\r\n        \\n\r\n        `\r\n    }\r\n\r\n    const renderList = () => {\r\n        const postList = document.querySelector(\"#posts\");\r\n\r\n        const postsHTML = posts.reduce(\r\n            (list, post) => (list + renderElement(post)), \"\"\r\n        )\r\n        postList.innerHTML = postsHTML;\r\n    }\r\n\r\n    const FetchData = async (url) => {\r\n        let data = undefined;\r\n        const { login, token } = useUserContext();\r\n        try{\r\n\r\n            const response = await fetch(url , {\r\n                \"method\": \"GET\",\r\n                \"headers\": {\r\n                    \"Content-type\": \"application.json\",\r\n                    Authorization: `Bearer ${token}`\r\n                }\r\n            })\r\n\r\n            if(response.ok){\r\n                data = await response.json();\r\n            } else {\r\n                console.warn(\"invalid request\")\r\n            }\r\n        }\r\n        catch(error){\r\n            console.error({error});\r\n            console.error(\"Error in fetch data\");\r\n        }\r\n        finally{\r\n            return data;\r\n        }\r\n    }\r\n\r\n    const fetchPosts = async () => {\r\n        respuesta = await FetchData(`${BASE_URL}/post/all?limit=10&page=${page}`) ?? [];\r\n        Asignar(respuesta);\r\n        renderList();\r\n    }\r\n    const Asignar = (data) => {\r\n        posts = data.data;\r\n        paginas = data.pages;\r\n    }\r\n\r\n    const Administrador = () => {\r\n        fetchPosts();\r\n    }\r\n\r\n    window.addEventListener(\"load\",Administrador())\r\n\r\n    return (\r\n        <div className=\"container mx-auto\">\r\n            <nav className=\"bg-green-800 shadow-lg\">\r\n                    <div className=\"sm:flex justify-around\">\r\n                        <div className=\"text-yellow-500 text-3xl font-bold p-3\">ADMINISTRADOR</div>\r\n                        <ul className=\"text-yellow-300 sm:self-center text-xl border-t sm:border-none\">\r\n                            <li className=\"sm:inline-block\">\r\n                                <button id=\"create_btn\" onClick={Formulario} className=\"p-3 hover:text-white\">Crear</button>\r\n                            </li>\r\n                            <li className=\"sm:inline-block\">\r\n                                <button className=\"p-3 hover:text-white\" onClick={FormularioUpdate}>Actualizar</button>\r\n                            </li>\r\n                            <li className=\"sm:inline-block\">\r\n                                <button className=\"p-3 hover:text-white\" onClick={borrar_btn}>Borrar</button>\r\n                            </li>\r\n                            <li className=\"sm:inline-block\">\r\n                                <button onClick={logoutHandler} className=\"transition rounded border border-green-800 duration-300 ease-in-out text-lg text-extrabold uppercase hover:bg-yellow-700 py-2 px-8 text-gray-100\">Log out</button>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n            </nav>\r\n\r\n            <div className=\"sm:flex justify-center my-8\">\r\n                <input className=\"font-medium w-2/5 mr-2 border border-gray-200 text-gray-700 focus:outline-none focus:border-3 focus:bg-gray-100 p-2 rounded\"\r\n                    type=\"text\"\r\n                    placeholder=\"What do you want?\"/>\r\n                <button onClick={logoutHandler} className=\"transition rounded border border-green-800 duration-300 ease-in-out text-lg text-extrabold uppercase bg-yellow-600  hover:bg-opacity-40 hover:text-gray-600 py-2 px-8 text-gray-100\">Buscar</button>\r\n            </div>\r\n\r\n            <div className=\"content-center mb-4\"  id=\"delete\">\r\n                <input className=\"font-medium mr-2 border border-gray-200 text-gray-700 focus:outline-none focus:border-3 focus:bg-gray-100 p-2 rounded\" \r\n                    type=\"text\" \r\n                    placeholder=\"id...\"\r\n                    name=\"_id\"\r\n                    onChange={handleInputChange}/>\r\n                <button onClick={ocultarDatos} className=\"transition rounded border border-green-800 duration-300 ease-in-out text-lg text-extrabold bg-purple-800  hover:bg-opacity-40 hover:text-gray-600 py-1 px-2 text-gray-100\">Eliminar</button>\r\n            </div>\r\n\r\n            <div id=\"formulario\" className=\"justify-center mb-12 mx-auto w-2/6 max-w-3xl bg-green-800 border-green-500 rounded-md md:p-12\">\r\n                <form onSubmit={enviarDatos} className=\"flex flex-col gap-4 \">\r\n\r\n                    <h2 className=\"uppercase text-yellow-500 font-monserrat font-black mx-auto text-4xl\">New Post</h2>\r\n\r\n                    <div className=\"w-full\">\r\n                        <BiText className=\"text-yellow-500 w-1/5 float-left font-monserrat font-black text-4xl\" />\r\n                        <input className=\"font-medium float-right w-4/5 bg-yellow-100 text-gray-700 focus:outline-none focus:ring focus:border-gray-700 p-2 rounded\"\r\n                            type = 'text'\r\n                            placeholder = 'Titulo...'\r\n                            minLength = \"8\"\r\n                            maxLength = \"32\"\r\n                            name=\"title\"\r\n                            onChange={handleInputChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"w-full\">\r\n                        <BiPencil className=\"text-yellow-500 w-1/5 float-left font-monserrat font-black text-4xl\" />\r\n                            <input className=\"font-medium float-right w-4/5 bg-yellow-100 text-gray-700 focus:outline-none focus:ring focus:border-gray-700 p-2 rounded\"\r\n                                type='text'\r\n                                minLength = \"8\"\r\n                                placeholder=\"Descripción...\"\r\n                                name=\"description\"\r\n                                onChange={handleInputChange}\r\n                            />\r\n                    </div>\r\n\r\n                    <div className=\"w-full\">\r\n                        <BiImageAdd className=\"text-yellow-500 w-1/5 float-left font-monserrat font-black text-4xl\" />\r\n                            <input className=\"font-medium float-right w-4/5 bg-yellow-100 text-gray-700 focus:outline-none focus:ring focus:border-gray-700 p-2 rounded\"\r\n                                type='url'\r\n                                placeholder=\"Imagen...\"\r\n                                name=\"image\"\r\n                                onChange={handleInputChange}\r\n                            />\r\n                    </div>\r\n\r\n\r\n                    {error && <p className=\"w-full rounded p-3 text-center text-white font-roboto bg-red-700 select-none\">\r\n                        Datos Erroneos\r\n                    </p>}\r\n\r\n                    <button type=\"submit\" className=\"mt-6 w-full transition rounded duration-300 ease-in-out text-xl text-extrabold uppercase bg-purple-800 hover:bg-blue-700 py-2 px-4 text-gray-100\"><BiPlus className=\"w-1/5 font-black mx-auto text-4xl\"/></button>\r\n                </form>\r\n            </div>\r\n\r\n            <div id=\"formularioUpdate\" className=\"justify-center mb-12 mx-auto w-2/6 max-w-3xl bg-green-800 border-green-500 rounded-md md:p-12\">\r\n                <form onSubmit={ActualizarData} className=\"flex flex-col gap-4 \">\r\n\r\n                    <h2 className=\"uppercase text-yellow-500 font-monserrat font-black mx-auto text-4xl\">Update Post</h2>\r\n\r\n                    <div className=\"w-full\">\r\n                        <BiText className=\"text-yellow-500 w-1/5 float-left font-monserrat font-black text-4xl\" />\r\n                        <input className=\"font-medium float-right w-4/5 bg-yellow-100 text-gray-700 focus:outline-none focus:ring focus:border-gray-700 p-2 rounded\"\r\n                            type = 'text'\r\n                            placeholder = 'Id...'\r\n                            name=\"_id\"\r\n                            onChange={handleInputChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"w-full\">\r\n                        <BiText className=\"text-yellow-500 w-1/5 float-left font-monserrat font-black text-4xl\" />\r\n                        <input className=\"font-medium float-right w-4/5 bg-yellow-100 text-gray-700 focus:outline-none focus:ring focus:border-gray-700 p-2 rounded\"\r\n                            type = 'text'\r\n                            placeholder = 'Titulo...'\r\n                            minLength = \"8\"\r\n                            maxLength = \"32\"\r\n                            name=\"title\"\r\n                            onChange={handleInputChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"w-full\">\r\n                        <BiPencil className=\"text-yellow-500 w-1/5 float-left font-monserrat font-black text-4xl\" />\r\n                            <input className=\"font-medium float-right w-4/5 bg-yellow-100 text-gray-700 focus:outline-none focus:ring focus:border-gray-700 p-2 rounded\"\r\n                                type='text'\r\n                                minLength = \"8\"\r\n                                placeholder=\"Descripción...\"\r\n                                name=\"description\"\r\n                                onChange={handleInputChange}\r\n                            />\r\n                    </div>\r\n\r\n                    <div className=\"w-full\">\r\n                        <BiImageAdd className=\"text-yellow-500 w-1/5 float-left font-monserrat font-black text-4xl\" />\r\n                            <input className=\"font-medium float-right w-4/5 bg-yellow-100 text-gray-700 focus:outline-none focus:ring focus:border-gray-700 p-2 rounded\"\r\n                                type='url'\r\n                                placeholder=\"Imagen...\"\r\n                                name=\"image\"\r\n                                onChange={handleInputChange}\r\n                            />\r\n                    </div>\r\n\r\n\r\n                    {error && <p className=\"w-full rounded p-3 text-center text-white font-roboto bg-red-700 select-none\">\r\n                        Datos Erroneos\r\n                    </p>}\r\n\r\n                    <button type=\"submit\" className=\"mt-6 w-full transition rounded duration-300 ease-in-out text-xl text-extrabold uppercase bg-purple-800 hover:bg-blue-700 py-2 px-4 text-gray-100\"><BiPlus className=\"w-1/5 font-black mx-auto text-4xl\"/></button>\r\n                </form>\r\n            </div>\r\n\r\n            <ul id=\"posts\"></ul>\r\n\r\n            <div className=\"m-screen pt-8 space-x-2 flex justify-center\">\r\n                <button onClick={anterior} className=\"transition rounded border border-green-800 duration-300 ease-in-out text-lg text-extrabold uppercase bg-yellow-600  hover:bg-opacity-40 hover:text-gray-600 py-2 px-8 text-gray-100\">last</button>\r\n                <span className=\"bg-transparent my-3 px-2 py-1 rounded-lg text-black font-medium\" > {page + 1} </span>\r\n                <button onClick={siguiente} className=\"transition rounded border border-green-800 duration-300 ease-in-out text-lg text-extrabold uppercase bg-yellow-600  hover:bg-opacity-40 hover:text-gray-600 py-2 px-8 text-gray-100\">Next</button>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import { useUserContext } from '../../contexts/UserContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport React, { useState } from 'react';\r\n\r\nexport default function User() {\r\n    const navigate = useNavigate()\r\n    const { logout } = useUserContext()\r\n    const [page, setPage] = useState(0)\r\n\r\n    const logoutHandler = () => {\r\n        logout()\r\n        navigate(\"/login\")\r\n    }\r\n\r\n    const siguiente = () => {\r\n        setPage(page + 1)\r\n        document.body.scrollTop = 0; // Para Safari\r\n        document.documentElement.scrollTop = 0; // Para Chrome, Firefox, IE y Opera\r\n        //window.location.reload()\r\n    }\r\n\r\n    const anterior = () => {\r\n        if(page <= 0)\r\n        {\r\n\r\n        }\r\n        else\r\n        {\r\n            setPage(page - 1)\r\n            document.body.scrollTop = 0; // Para Safari\r\n            document.documentElement.scrollTop = 0; // Para Chrome, Firefox, IE y Opera\r\n            //window.location.reload()\r\n        }\r\n\r\n    }\r\n\r\n    let paginas;\r\n    let posts = [];\r\n    let respuesta = [];\r\n    const BASE_URL = \"https://posts-pw2021.herokuapp.com/api/v1\";\r\n\r\n    /*const setupListeners = () => {\r\n        const button = document.querySelector(\"#like_btn\");\r\n    \r\n        button.addEventListener(\"click\", () => {\r\n            likingPost();\r\n        });\r\n    }*/\r\n\r\n    const renderElement = ({id, title, image, description, user, comments}) => {\r\n        return `\r\n            <li class=\"card\" data-id=\"${ id }\">\r\n                <div class=\"card-main\">\r\n                    <h2 id=\"titulo\">${ title }</h2>\r\n                    <img id=\"imagen\" src=\"${ image }\">\r\n                        <p></p>\r\n                        <p>${ description }</p>\r\n                    <div id=\"buttons\">\r\n                        <button className=\"Like\" id=\"like_btn\" >Like \\t</button>\r\n                        <button className=\"Favorite\" id=\"favorite_btn\" >Favorito</button>\r\n                        <button className=\"Comment\" id=\"comment_btn\" >Comment</button>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        \\n\r\n        `\r\n    }\r\n\r\n    const renderList = () => {\r\n        const postList = document.querySelector(\"#posts\");\r\n        console.log(respuesta)\r\n        const postsHTML = posts.reduce(\r\n            (list, post) => (list + renderElement(post)), \"\"\r\n        )\r\n        postList.innerHTML = postsHTML;\r\n    }\r\n\r\n    const FetchData = async (url) => {\r\n        let data = undefined;\r\n        const { login, token } = useUserContext();\r\n        try{\r\n\r\n            const response = await fetch(url , {\r\n                \"method\": \"GET\",\r\n                \"headers\": {\r\n                    \"Content-type\": \"application.json\",\r\n                    Authorization: `Bearer ${token}`\r\n                }\r\n            })\r\n\r\n            if(response.ok){\r\n                data = await response.json();\r\n            } else {\r\n                console.warn(\"invalid request\")\r\n            }\r\n        }\r\n        catch(error){\r\n            console.error({error});\r\n            console.error(\"Error in fetch data\");\r\n        }\r\n        finally{\r\n            return data;\r\n        }\r\n    }\r\n\r\n    const fetchPosts = async () => {\r\n        respuesta = await FetchData(`${BASE_URL}/post/all?limit=12&page=${page}`) ?? [];\r\n        Asignar(respuesta);\r\n        renderList();\r\n    }\r\n    const Asignar = (data) => {\r\n        console.log(data)\r\n        posts = data.data;\r\n        paginas = data.pages;\r\n    }\r\n\r\n    const Usuario = () => {\r\n        fetchPosts();\r\n    }\r\n\r\n\r\n    window.addEventListener(\"load\", Usuario())\r\n\r\n    return (\r\n        <div className=\"container mx-auto pb-4\">\r\n            <nav className=\"bg-green-800 shadow-lg w-full py-1 border px-2 \">\r\n                    <div className=\"sm:flex justify-around\">\r\n                        <div className=\"text-yellow-500 text-3xl font-bold p-3\">USUARIO</div>\r\n\r\n                        <ul className=\"text-yellow-300 sm:self-center text-xl border-t sm:border-none\">\r\n                            <li className=\"sm:inline-block\">\r\n                                <a href=\"#\" className=\"p-3 hover:text-white\">Home</a>\r\n                             </li>\r\n                            <li className=\"sm:inline-block\">\r\n                                <a href=\"#\" className=\"p-3 hover:text-white\">Favoritos</a>\r\n                            </li>\r\n                            <li className=\"sm:inline-block\">\r\n                                <button onClick={logoutHandler} className=\"transition rounded border border-green-800 duration-300 ease-in-out text-lg text-extrabold uppercase hover:bg-yellow-700 py-2 px-8 text-gray-100\">Log out</button>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n            </nav>\r\n            <div className=\"sm:flex justify-center my-8\">\r\n                <input className=\"font-medium w-2/5 mr-2 border border-gray-200 text-gray-700 focus:outline-none focus:border-3 focus:bg-gray-100 p-2 rounded\"\r\n                    type=\"text\"\r\n                    placeholder=\"What do you want?\"/>\r\n                <button onClick={logoutHandler} className=\"transition rounded border border-green-800 duration-300 ease-in-out text-lg text-extrabold uppercase bg-yellow-600  hover:bg-opacity-40 hover:text-gray-600 py-2 px-8 text-gray-100\">Buscar</button>\r\n            </div>\r\n            <ul id=\"posts\"></ul>\r\n            <div className=\"m-screen pt-8 space-x-2 flex justify-center\">\r\n                <button onClick={anterior} className=\"transition rounded border border-green-800 duration-300 ease-in-out text-lg text-extrabold uppercase bg-yellow-600  hover:bg-opacity-40 hover:text-gray-600 py-2 px-8 text-gray-100\">last</button>\r\n                <span className=\"bg-transparent my-3 px-2 py-1 rounded-lg text-black font-medium\" > {page + 1} </span>\r\n                <button onClick={siguiente} className=\"transition rounded border border-green-800 duration-300 ease-in-out text-lg text-extrabold uppercase bg-yellow-600  hover:bg-opacity-40 hover:text-gray-600 py-2 px-8 text-gray-100\">Next</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { FiAlertTriangle } from \"react-icons/all\";\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst NotFound = () => {\r\n    const navigate = useNavigate()\r\n\r\n    const onClick = (e) => {\r\n        navigate('/login')\r\n    }\r\n\r\n    return(\r\n        <div className=\"flex gap-4 justify-center items-center p-6 min-h-screen bg-gray-200\">\r\n            <FiAlertTriangle className=\"text-right w-56 h-56 text-red-500\"/>\r\n            <div className=\"items-center justify-around text-center\">\r\n                <h2 className=\"text-6xl font-roboto text-center mb-6 text-red-500\">404</h2>\r\n                <h3 className=\"text-xl font-roboto\">well, this isn't good</h3>\r\n                <h3 className=\"text-xl font-roboto\">Press <a className=\"text-blue-500\" href=\"https://answers.microsoft.com/en-us/windows/forum/all/error-code-404/9cd5b956-bc02-43fd-bfdc-17dc8b516463#:~:text=A%20404%20error%20is%20an,Cheers\">here</a> for information</h3>\r\n                <button className=\"font-roboto bg-gray-300 m-4 py-2 px-4 rounded\" onClick={(e) => onClick(e)}>Go to Login</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NotFound;","import { useUserContext } from '../../contexts/UserContext';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst rolePages = {\r\n  \"admin\": \"/admin\",\r\n  \"user\": \"/user\"\r\n}\r\n\r\nconst RedirectUser = () => {\r\n  const { user } = useUserContext();\r\n\r\n  if(!user) return <p> No se puede redireccionar </p>;\r\n\r\n  return <Navigate replace to={rolePages[user.role] ?? \"/\"} />\r\n}\r\n\r\nexport default RedirectUser;","import { useUserContext } from './../../contexts/UserContext';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({role=\"user\", children }) => {\r\n  const { token, user } = useUserContext();\r\n  \r\n  if(!token) return <Navigate replace to=\"/login\"/>;\r\n  if(!user || user.role !== role) return <Navigate replace to=\"/404\"/>;\r\n\r\n  return children;\r\n}\r\n\r\nexport default PrivateRoute;","import Beginning from './pages/Beginning/beginning';\r\nimport Login from './pages/Login/Login';\r\nimport Admin from './pages/Admin/Admin.jsx';\r\nimport User from './pages/User/User';\r\nimport NotFound from './pages/NotFound/NotFound';\r\nimport RedirectUser from './pages/Redirect/RedirectUser';\r\n\r\nimport Private from './Components/PrivateRoute/PrivateRoute';\r\n\r\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\r\n\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter>\r\n      <Routes>        \r\n        <Route path=\"/login\" element={<Login />} />\r\n        <Route path=\"/redirect\" element={<RedirectUser />}/>\r\n        <Route path=\"/\" element={<Beginning />}/>\r\n\r\n        <Route path=\"/admin\"  element={<Private role=\"admin\"><Admin /></Private>} />\r\n        <Route path=\"/user\"   element={<Private role=\"user\"> <User /> </Private>} />\r\n        \r\n        <Route path=\"*\" element={<NotFound />}/>\r\n      </Routes>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { UserProvider } from './contexts/UserContext'\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <UserProvider>\r\n      <App />\r\n    </UserProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}